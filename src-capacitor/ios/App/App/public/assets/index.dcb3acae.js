import{z as o,n as h,_ as m,aR as u,m as d}from"./index.1d7fae07.js";function L(v,{volume:t=1,playbackRate:r=1,soundEnabled:p=!0,interrupt:y=!1,autoplay:_=!1,onload:s,...i}={}){const n=o(null),l=o(!1),f=o(null),e=o(null);function c(){var a;typeof s=="function"&&s.call(this),f.value=(f.value||((a=e.value)==null?void 0:a.duration())||0)*1e3,_===!0&&(l.value=!0)}return h(async()=>{const a=await m(()=>import("./howler.bb230c47.js").then(function(w){return w.h}),["assets/howler.bb230c47.js","assets/_commonjsHelpers.2cf1d77b.js"]);n.value=a.default.Howl,e.value=new n.value({src:u(v),volume:u(t),rate:u(r),onload:c,...i})}),d(()=>[v],()=>{n.value&&n.value&&e&&e.value&&(e.value=new n.value({src:u(v),volume:u(t),rate:u(r),onload:c,...i}))}),d(()=>[u(t),u(r)],()=>{e.value&&(e.value.volume(u(t)),e.value.rate(u(r)))}),{play:a=>{typeof a=="undefined"&&(a={}),!(!e.value||!p&&!a.forceSoundEnabled)&&(y&&e.value.stop(),a.playbackRate&&e.value.rate(a.playbackRate),e.value.play(a.id),e.value.once("end",()=>{e.value&&e.value&&!e.value.playing()&&(l.value=!1)}),l.value=!0)},sound:e,isPlaying:l,duration:f,pause:a=>{!e.value||(e.value.pause(typeof a=="number"?a:void 0),l.value=!1)},stop:a=>{!e.value||(e.value.stop(typeof a=="number"?a:void 0),l.value=!1)}}}export{L as u};
